import{p as e,a as t,r as a,c as n,b as o,d as s,w as r,o as l,e as i,F as c,f as u,g as p,h as m,v as d,_ as g,i as y,j as C,k as v,l as f,t as L,m as h,n as S,q as b,s as I,u as D,x as O,y as T,z as B,A as k,B as N,V as w}from"./vendor.30e9b498.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const _={name:"NavigationComponent"};e("data-v-5103aa29");const F={class:"navigation-wrapper"},V={class:"container"},H={class:"nav"},J={class:"nav-list"},A={class:"nav-item"},x=i("Главная"),U={class:"nav-item"},P=i("Прибыль"),z={class:"nav-item"},R=i("Расходы");t(),_.render=function(e,t,i,c,u,p){const m=a("router-link");return l(),n("div",F,[o("div",V,[o("nav",H,[o("ul",J,[o("li",A,[s(m,{class:"nav-link",to:"/"},{default:r((()=>[x])),_:1})]),o("li",U,[s(m,{class:"nav-link",to:"/income"},{default:r((()=>[P])),_:1})]),o("li",z,[s(m,{class:"nav-link",to:"/costs"},{default:r((()=>[R])),_:1})])])])])])},_.__scopeId="data-v-5103aa29";const $={components:{NavigationComponent:_}};$.render=function(e,t,o,r,i,u){const p=a("NavigationComponent"),m=a("router-view");return l(),n(c,null,[s(p),s(m)],64)};const j=u("useBalanceStore",{state:()=>({balance:Number(localStorage.getItem("userBalance"))||0}),actions:{setBalance(e){return this.balance=e},addBalance(e){return this.balance+=e},removeBalance(e){return this.balance-=e}}}),q=u("useStepStore",{state:()=>({stepOne:JSON.parse(localStorage.getItem("stepOne"))||!1,stepTwo:JSON.parse(localStorage.getItem("stepTwo"))||!1}),actions:{setStepOne(e){return this.stepOne=e},setStepTwo(e){return this.stepTwo=e}}});const M={name:"TheStepOne",setup(){const e=j(),t=q(),a=p(0);return{inputBalance:a,submitBalance:()=>{e.setBalance(a.value),t.setStepOne(!0),localStorage.setItem("stepOne","true"),localStorage.setItem("userBalance",JSON.stringify(a.value))}}}};e("data-v-7e004d22");const X={class:"step"},E=o("p",null,[i(" Привет, это приложение созданно для того, "),o("br"),i(" чтобы помочь тебе вести финансовую деятельность ")],-1),K=o("p",null," Для начала введить свой текущий баланс: ",-1);t(),M.render=function(e,t,a,s,r,i){return l(),n("div",X,[E,K,o("label",null,[m(o("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>s.inputBalance=e),type:"number"},null,512),[[d,s.inputBalance]])]),o("button",{class:"primary-btn",onClick:t[1]||(t[1]=(...e)=>s.submitBalance&&s.submitBalance(...e))}," Подтвердить ")])},M.__scopeId="data-v-7e004d22";const Y=u("dealsStore",{state:()=>({costsList:JSON.parse(localStorage.getItem("costsList"))||Array(),categoryCostsList:JSON.parse(localStorage.getItem("categoryCostsList"))||[{id:0,name:"Еда и напитки"},{id:1,name:"Коммунальные расходы"},{id:2,name:"Интернет и сотовая связь"},{id:3,name:"Развлечения"},{id:4,name:"Подарки"},{id:5,name:"Одежда"},{id:6,name:"Парфюмерия и косметика"}],categoryIncomeList:JSON.parse(localStorage.getItem("categoryIncomeList"))||[{id:0,name:"Зарплата"},{id:1,name:"Подарки"},{id:2,name:"Лотерея"},{id:3,name:"Инвестиции"},{id:4,name:"Бизнес"}],incomeList:JSON.parse(localStorage.getItem("incomeList"))||Array(),countCosts:Number(localStorage.getItem("countCosts"))||0,countIncome:Number(localStorage.getItem("countIncome"))||0}),actions:{addCost(e,t,a,n,o){this.costsList.push({id:e,date:t,name:a,amount:n,category:o})},addIncome(e,t,a,n,o){this.incomeList.push({id:e,date:t,name:a,amount:n,category:o})},addCostsCategory(e,t){this.categoryCostsList.push({id:e,name:t})},addIncomeCategory(e,t){this.categoryIncomeList.push({id:e,name:t})},addCountCosts(){this.countCosts++},addCountIncome(){this.countIncome++},deleteCost(e){const t=this.costsList.findIndex((t=>t.id===e));if(-1!==t)return this.costsList.splice(t,1)},deleteIncome(e){const t=this.incomeList.findIndex((t=>t.id===e));if(-1!==t)return this.incomeList.splice(t,1)}},getters:{getCostsSumByCategory:e=>g(e.costsList).groupBy("category.name").map((function(e,t){return{name:t,amount:g.sumBy(e,"amount")}})).value(),sumOfCosts:e=>{const t=e.costsList.map((e=>e.amount));if(t.length)return t.reduce(((e,t)=>e+t))},sumOfIncomes:e=>{const t=e.incomeList.map((e=>e.amount));if(t.length)return t.reduce(((e,t)=>e+t))},getCostsByDate:e=>g(e.costsList).groupBy("date").map(((e,t)=>({date:t,amount:g.sumBy(e,"amount")}))).value(),getIncomesByDate:e=>g(e.incomeList).groupBy("date").map(((e,t)=>({date:t,amount:g.sumBy(e,"amount")}))).value()}});var G={name:"CategoryLogicComponent",setup(){const e=p(""),t=p(""),a=Y();return{categoryName:e,categoryType:t,addCategory:()=>{""!==e.value&&t&&("costs"===t.value?a.addCostsCategory(a.getCategoryCostsList.length,e.value):a.addIncomeCategory(a.getCategoryIncomeList.length,e.value))}}}};e("data-v-52101393");const Q={class:"name-input"},W=o("label",{for:"name"},"Введите название категории",-1),Z={class:"type-input"},ee=i(" Расходы "),te=i(" Доходы ");t(),G.render=function(e,t,a,s,r,i){return l(),n(c,null,[o("div",Q,[W,m(o("input",{class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>s.categoryName=e),id:"name",name:"name",type:"text"},null,512),[[d,s.categoryName]])]),o("div",Z,[o("label",null,[m(o("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>s.categoryType=e),name:"categoryType",value:"costs",type:"radio"},null,512),[[y,s.categoryType]]),ee]),o("label",null,[m(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.categoryType=e),name:"categoryType",value:"income",type:"radio"},null,512),[[y,s.categoryType]]),te])]),o("button",{class:"danger-btn",onClick:t[3]||(t[3]=(...e)=>s.addCategory&&s.addCategory(...e))}," Добавить категорию ")],64)},G.__scopeId="data-v-52101393";const ae={name:"TheStepTwo",components:{CategoryLogicComponent:G},setup(){const e=q();return{submitStepTwo:()=>{e.setStepTwo(!0),localStorage.setItem("stepTwo","true")}}}};e("data-v-57e531b4");const ne=o("h3",null," Добавьте нужные категории для комфортной работы ",-1);t(),ae.render=function(e,t,r,i,u,p){const m=a("CategoryLogicComponent");return l(),n(c,null,[ne,s(m),o("button",{class:"primary-btn",onClick:t[0]||(t[0]=(...e)=>i.submitStepTwo&&i.submitStepTwo(...e))}," Далее ")],64)},ae.__scopeId="data-v-57e531b4";const oe={name:"HomeDiagrams",setup(){const e=j(),t=Y(),a=C((()=>t.sumOfCosts)),n=C((()=>t.sumOfIncomes)),o=C((()=>t.getCostsByDate)),s=C((()=>t.getIncomesByDate));return{balanceStore:e,diagramDoughnutOptions:{labels:["Costs","Incomes"],colors:["#f60a0a","#66DA26"],plotOptions:{pie:{expandOnClick:!1,donut:{labels:{show:!0,total:{show:!0,showAlways:!0,color:"#2e3437",formatter:function(e){return e.globals.seriesTotals.reduce(((e,t)=>t-e),0)}}}}}}},diagramDoughnutSeries:[a.value,n.value],diagramCostsDateSeries:[{data:o.value.map((e=>({x:e.date,y:e.amount})))}],diagramCostsDateOptions:{colors:["#f60a0a"],chart:{type:"bar"},plotOptions:{bar:{horizontal:!1}}},diagramIncomesDateSeries:[{data:s.value.map((e=>({x:e.date,y:e.amount})))}],diagramIncomesDateOptions:{colors:["#66DA26"],chart:{type:"bar"},plotOptions:{bar:{horizontal:!1}}},incomesByDate:s,costsByDate:o}}};e("data-v-a8d13a0c");const se={class:"diagrams"};t(),oe.render=function(e,t,o,s,r,i){const c=a("apexchart");return l(),n("div",se,[s.incomesByDate.length||s.costsByDate.length?(l(),v(c,{key:0,width:"380",type:"donut",options:s.diagramDoughnutOptions,series:s.diagramDoughnutSeries},null,8,["options","series"])):f("",!0),s.costsByDate.length?(l(),v(c,{key:1,type:"bar",series:s.diagramCostsDateSeries,options:s.diagramCostsDateOptions},null,8,["series","options"])):f("",!0),s.incomesByDate.length?(l(),v(c,{key:2,type:"bar",series:s.diagramIncomesDateSeries,options:s.diagramIncomesDateOptions},null,8,["series","options"])):f("",!0)])},oe.__scopeId="data-v-a8d13a0c";const re={name:"Home",components:{HomeDiagrams:oe,TheStepTwo:ae,TheStepOne:M},setup:()=>({stepStore:q(),balanceStore:j()})};e("data-v-2133ef56");const le=o("h1",null,"Главная",-1),ie={class:"container"},ce={key:2,class:"main"},ue=i(" Ваш баланс равен "),pe={class:"balance-count"};t(),re.render=function(e,t,r,i,u,p){const m=a("TheStepOne"),d=a("TheStepTwo"),g=a("HomeDiagrams");return l(),n(c,null,[le,o("div",ie,[i.stepStore.stepOne?f("",!0):(l(),v(m,{key:0})),i.stepStore.stepOne&&!i.stepStore.stepTwo?(l(),v(d,{key:1})):f("",!0),i.stepStore.stepOne&&i.stepStore.stepTwo?(l(),n("div",ce,[o("h2",null,[ue,o("span",pe,L(i.balanceStore.balance)+"₽",1)]),s(g)])):f("",!0)])],64)},re.__scopeId="data-v-2133ef56";const me={name:"NameFilterComponent",props:{type:String,transactionList:Array},emits:["filter"],setup(e){const t=p(""),a=Y(),n=C((()=>t.value&&e.transactionList.length?e.transactionList:"costs"===e.type?a.costsList:a.incomeList)),o=C((()=>n.value.filter((e=>e.name.toLowerCase().includes(t.value.toLowerCase())))));return{filterName:t,transactionList:n,filterTransactionList:o}}},de={class:"name-filter"},ge=o("label",{for:"filter-name"},null,-1);me.render=function(e,t,a,s,r,i){return l(),n("div",de,[ge,m(o("input",{onInput:t[0]||(t[0]=t=>e.$emit("filter",s.filterTransactionList)),id:"filter-name",class:"name-filter-input","onUpdate:modelValue":t[1]||(t[1]=e=>s.filterName=e),placeholder:"Введите название транзакции",type:"text"},null,544),[[d,s.filterName]])])};const ye={name:"SortFilterComponent",props:{type:String,transactionList:Array},emits:["filter"],setup(e){const t=p("default"),a=Y(),n=C((()=>e.transactionList.length?e.transactionList:"costs"===e.type?a.costsList:a.incomeList)),o=C((()=>g.sortBy(n.value,(e=>e[t.value])).reverse()));return{sortType:t,filterTransactionList:o}}},Ce=[o("option",{value:"default"}," Стандартно ",-1),o("option",{value:"date"}," По дате ",-1),o("option",{value:"amount"}," По сумме ",-1),o("option",{value:"name"}," По названию ",-1)];ye.render=function(e,t,a,o,s,r){return m((l(),n("select",{onChange:t[0]||(t[0]=t=>e.$emit("filter",o.filterTransactionList)),"onUpdate:modelValue":t[1]||(t[1]=e=>o.sortType=e),name:"sort",id:"sort"},Ce,544)),[[h,o.sortType]])};var ve={name:"CategoryFilterComponent",props:{type:String,transactionList:Array},emits:["filter"],setup(e){const t=Y(),a=p("default"),n=C((()=>"income"===e.type?t.categoryIncomeList:t.categoryCostsList)),o=C((()=>e.transactionList.length?e.transactionList:"costs"===e.type?t.costsList:t.incomeList)),s=C((()=>g.filter(o.value,(e=>e.category.name===a.value))));return{categoryList:n,selectedCategory:a,filterTransactionList:s}}};const fe=o("option",{value:"default"}," Стандартно ",-1),Le=["value"];ve.render=function(e,t,a,o,s,r){return m((l(),n("select",{onChange:t[0]||(t[0]=t=>e.$emit("filter",o.filterTransactionList)),"onUpdate:modelValue":t[1]||(t[1]=e=>o.selectedCategory=e),name:"category",id:"category"},[fe,(l(!0),n(c,null,S(o.categoryList,(e=>(l(),n("option",{key:e.id,value:e.name},L(e.name),9,Le)))),128))],544)),[[h,o.selectedCategory]])};const he={name:"FilterComponent",props:{type:String},emits:["filter"],setup(e,t){const a=p([]);return{filteredList:a,filterHandler:e=>t.emit("filter",a.value=e)}},components:{CategoryFilterComponent:ve,SortFilterComponent:ye,NameFilterComponent:me}};e("data-v-6938c882");const Se={class:"filters"};t(),he.render=function(e,t,o,r,i,c){const u=a("NameFilterComponent"),p=a("SortFilterComponent"),m=a("CategoryFilterComponent");return l(),n("div",Se,[s(u,{transactionList:r.filteredList,type:o.type,onFilter:t[0]||(t[0]=e=>r.filterHandler(e))},null,8,["transactionList","type"]),s(p,{transactionList:r.filteredList,type:o.type,onFilter:t[1]||(t[1]=e=>r.filterHandler(e))},null,8,["transactionList","type"]),s(m,{transactionList:r.filteredList,type:o.type,onFilter:t[2]||(t[2]=e=>r.filterHandler(e))},null,8,["transactionList","type"])])},he.__scopeId="data-v-6938c882";var be={name:"CategoryPopupComponent",components:{CategoryLogicComponent:G}};e("data-v-59f14a36");const Ie={class:"popup-wrapper"},De=o("h3",null,"Создать новую категорию",-1);t(),be.render=function(e,t,o,r,i,c){const u=a("CategoryLogicComponent");return l(),n("div",Ie,[De,s(u)])},be.__scopeId="data-v-59f14a36";const Oe={name:"TransactionPopupComponent",components:{CategoryPopupComponent:be},props:{type:String,class:String},setup(e){const t=Y(),a=j(),n=p(null),o=p(""),s=p(0),r=C((()=>"income"===e.type?t.categoryIncomeList:t.categoryCostsList)),l=C((()=>t.incomeList.length));let i=new Date,c=String(i.getDate()).padStart(2,"0"),u=String(i.getMonth()+1).padStart(2,"0"),m=i.getFullYear();i=c+"/"+u+"/"+m;const d=p(!1);return{categoryList:r,categoryValue:n,summary:s,nameValue:o,addTransaction:e=>""!==o.value?"costs"===e?(t.addCost(t.countCosts,i,o.value,s.value,r.value[n.value]),t.addCountCosts(),a.removeBalance(s.value)):(t.addIncome(t.countIncome,i,o.value,s.value,r.value[n.value]),t.addCountIncome(),a.addBalance(s.value)):alert("Нельзя оставлять пустое название"),incomeList:l,popupHandlerCategory:d,popupChangerCategory:()=>{d.value=!d.value}}}};e("data-v-050be7ab");const Te=o("h3",null," Новая транзакция ",-1),Be={class:"inputs"},ke={class:"top"},Ne={class:"select-category"},we=o("label",{for:"category"},"Категория",-1),_e=["value"],Fe=o("label",{for:"name-input"},"Введите название операции",-1),Ve={key:0,for:"summary"},He={key:1,for:"summary"};t(),Oe.render=function(e,t,s,r,i,u){const p=a("CategoryPopupComponent");return l(),n(c,null,[o("div",{class:b(["popup-wrapper",this.class])},[Te,o("div",Be,[o("div",ke,[o("div",Ne,[we,m(o("select",{class:"category-transaction","onUpdate:modelValue":t[0]||(t[0]=e=>r.categoryValue=e),name:"category",id:"category"},[(l(!0),n(c,null,S(r.categoryList,(e=>(l(),n("option",{key:e.id,value:e.id},L(e.name),9,_e)))),128))],512),[[h,r.categoryValue]])]),o("button",{class:"secondary-btn",onClick:t[1]||(t[1]=(...e)=>r.popupChangerCategory&&r.popupChangerCategory(...e))},"Создать новую категорию")]),Fe,m(o("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>r.nameValue=e),id:"name-input",name:"name",type:"text"},null,512),[[d,r.nameValue]]),"costs"===s.type?(l(),n("label",Ve,"Введите сумму потраченных средств")):(l(),n("label",He,"Введите сумму заработанных средств")),m(o("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>r.summary=e),id:"summary",name:"summary",type:"number"},null,512),[[d,r.summary]])]),"costs"===s.type?(l(),n("button",{key:0,class:"primary-btn",onClick:t[4]||(t[4]=e=>r.addTransaction("costs"))}," Добавить ")):(l(),n("button",{key:1,class:"primary-btn",onClick:t[5]||(t[5]=e=>r.addTransaction("income"))}," Добавить "))],2),r.popupHandlerCategory?(l(),v(p,{key:0})):f("",!0),r.popupHandlerCategory?(l(),n("div",{key:1,onClick:t[6]||(t[6]=(...e)=>r.popupChangerCategory&&r.popupChangerCategory(...e)),class:"close-popup"}," X ")):f("",!0)],64)},Oe.__scopeId="data-v-050be7ab";const Je={name:"NewDealComponent",components:{TransactionPopupComponent:Oe},props:{type:String},setup(){const e=Y(),t=j(),a=p(!1),n=p(""),o=C((()=>e.costsList)),s=C((()=>e.incomeList)),r=C((()=>e.categoryCostsList)),l=C((()=>e.categoryIncomeList)),i=C((()=>e.countCosts)),c=C((()=>e.countIncome)),u=C((()=>t.balance));return I([o.value,s.value,r.value,l.value,u],(([e,t,a,n,o])=>{localStorage.setItem("costsList",JSON.stringify(e)),localStorage.setItem("incomeList",JSON.stringify(t)),localStorage.setItem("categoryCostsList",JSON.stringify(a)),localStorage.setItem("categoryIncomeList",JSON.stringify(n)),localStorage.setItem("countCosts",i.value),localStorage.setItem("countIncome",c.value),localStorage.setItem("userBalance",JSON.stringify(o))})),{popupHandler:a,popupChanger:()=>{a.value=!a.value},popupClass:n}}};e("data-v-498d8c47");const Ae={class:"new-deal"},xe={key:0,class:"popup-transaction"};t(),Je.render=function(e,t,r,i,c,u){const p=a("TransactionPopupComponent");return l(),n("div",Ae,[o("button",{class:"primary-btn",onClick:t[0]||(t[0]=(...e)=>i.popupChanger&&i.popupChanger(...e))}," Создать новую транзакцию "),i.popupHandler?(l(),n("div",xe,[s(p,{type:r.type},null,8,["type"]),o("div",{onClick:t[1]||(t[1]=(...e)=>i.popupChanger&&i.popupChanger(...e)),class:"close-popup"}," X ")])):f("",!0)])},Je.__scopeId="data-v-498d8c47";var Ue={name:"DealListComponent",props:{listOfDeal:Array},setup(){const e=Y(),t=j(),a=D().currentRoute.value.path.replace(/[\/\\]/g,"");return{dealStore:e,deleteTransaction:(a,n,o)=>{console.log(a,n),"costs"===a&&(e.deleteCost(n),t.addBalance(o)),"income"===a&&(e.deleteIncome(n),t.removeBalance(o))},currentRoute:a}}};e("data-v-3d5634e4");const Pe={class:"container"},ze={class:"table"},Re=o("thead",null,[o("tr",null,[o("th",null," Название "),o("th",null," Сумма "),o("th",null," Категория "),o("th",null," Дата ")])],-1),$e=["onClick"];t(),Ue.render=function(e,t,a,s,r,i){return l(),n("div",Pe,[o("table",ze,[Re,o("tbody",null,[(l(!0),n(c,null,S(a.listOfDeal,(e=>(l(),n("tr",{key:e.id+e.name},[o("th",null,L(e.name),1),o("td",null,L(e.amount),1),o("td",null,L(e.category.name),1),o("td",null,L(e.date),1),o("td",null,[o("button",{class:"delete",onClick:t=>s.deleteTransaction(s.currentRoute,e.id,e.amount)}," Удалить ",8,$e)])])))),128))])])])},Ue.__scopeId="data-v-3d5634e4";const je={name:"Income",components:{DealListComponent:Ue,NewDealComponent:Je,FilterComponent:he},setup:()=>({dealStore:Y(),filteredList:p([])})},qe=o("h1",null,"Ваши доходы",-1);je.render=function(e,t,o,r,i,u){const p=a("FilterComponent"),d=a("NewDealComponent"),g=a("DealListComponent");return l(),n(c,null,[qe,s(p,{onFilter:t[0]||(t[0]=e=>r.filteredList=e),type:"income"}),s(d,{type:"income"}),m(s(g,{listOfDeal:r.filteredList.length>0?r.filteredList:r.dealStore.incomeList},null,8,["listOfDeal"]),[[O,r.dealStore.incomeList.length>0]])],64)};const Me={name:"Costs",components:{NewDealComponent:Je,DealListComponent:Ue,FilterComponent:he},setup:()=>({dealStore:Y(),filteredList:p([])})},Xe=o("h1",null,"Ваши расходы",-1);Me.render=function(e,t,o,r,i,u){const p=a("FilterComponent"),d=a("NewDealComponent"),g=a("DealListComponent");return l(),n(c,null,[Xe,s(p,{onFilter:t[0]||(t[0]=e=>r.filteredList=e),type:"costs"}),s(d,{type:"costs"}),m(s(g,{listOfDeal:r.filteredList.length>0?r.filteredList:r.dealStore.costsList},null,8,["listOfDeal"]),[[O,r.dealStore.costsList.length>0]])],64)};const Ee=T({routes:[{path:"/",name:"Home",component:re},{path:"/income",name:"Income",component:je},{path:"/costs",name:Me,component:Me}],history:B()});const Ke=k(),Ye=N($);Ye.use(Ke),Ye.use(Ee),Ye.use(w),Ye.mount("#app");
